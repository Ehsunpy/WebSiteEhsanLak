{% extends "base.html" %}
{% load static %}

{% block title %}احسان لک | برنامه‌نویس و پژوهشگر هوش مصنوعی{% endblock %}

{% block content %}
<section id="intro" class="hero-grid">
  <div class="hero-card" data-animate="rise">
    <p class="eyebrow">TA و دانشجوی ارشد هوش مصنوعی</p>
    <h1>{{ site_owner.headline|default:"احسان لک" }}</h1>
    <p>
      من {{ site_owner.name }} هستم؛ برنامه‌نویس پرشور، عاشق یادگیری ماشین و طراح
      تجربه‌های دیجیتال هوشمند. در مسیر ساخت محصولاتی هستم که زندگی را ساده‌تر و زیباتر می‌کنند.
    </p>
    <div class="hero-cta">
      <a href="#contact" class="btn cta">همکاری و مشاوره</a>
      <a href="#blog" class="btn ghost">مطالعه بلاگ</a>
    </div>
    <div class="hero-meta">
      <span>دانشجوی ارشد AI - دانشگاه آزاد تهران شمال</span>
      <span>TA و مدرّس دوره‌های تخصصی</span>
    </div>
  </div>
  <div class="hero-visual" data-animate="fade">
    <div class="orb orb-one"></div>
    <div class="orb orb-two"></div>
    <div class="floating-card">
      <h3>Creative Coding Lab</h3>
      <p>پروژه‌های شاخص یادگیری ماشین، سیستم‌های توصیه‌گر و طراحی تعاملی.</p>
      <div class="chip-row">
        <span>Python</span>
        <span>TensorFlow</span>
        <span>Django</span>
      </div>
    </div>
    <div class="metric-stack">
      {% for metric in metrics %}
      <div class="metric" style="--accent: {{ metric.accent_color }};" data-animate="zoom">
        <strong>{{ metric.value }}{{ metric.suffix }}</strong>
        <span>{{ metric.label }}</span>
      </div>
      {% empty %}
      <div class="metric" data-animate="zoom">
        <strong>5+</strong>
        <span>سال تجربه</span>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<section id="activities" class="spotlight">
  <div class="section-heading">
    <p class="eyebrow">فعالیت‌ها و پروژه‌ها</p>
    <h2>ترکیبی از پژوهش، توسعه و آموزش</h2>
  </div>
  <div class="spotlight-grid">
    {% for activity in activities %}
    <article class="spotlight-card" style="--accent: {{ activity.accent_color }};" data-animate="slide">
      <div class="spotlight-body">
        <h3>{{ activity.title }}</h3>
        <p>{{ activity.description }}</p>
        {% if activity.cta_label %}
        <a href="{{ activity.cta_link }}" target="_blank">{{ activity.cta_label }}</a>
        {% endif %}
      </div>
      {% if activity.background_image %}
      <img src="{{ activity.background_image.url }}" alt="{{ activity.title }}" />
      {% endif %}
    </article>
    {% empty %}
    <article class="spotlight-card" data-animate="slide">
      <h3>آزمایشگاه هوش مصنوعی</h3>
      <p>طراحی سیستم‌های هوشمند برای صنعت و دانشگاه.</p>
    </article>
    {% endfor %}
  </div>
</section>

<section id="resume" class="resume-section">
  <div class="section-heading">
    <p class="eyebrow">رزومه و مسیر حرفه‌ای</p>
    <h2>تجربه‌های تدریس، پژوهش و توسعه محصول</h2>
  </div>
  <div class="resume-grid">
    <div class="timeline">
      {% for exp in experiences %}
      <div class="timeline-item" data-animate="line">
        <div class="timeline-dot" style="--accent: {{ exp.highlight_color }};"></div>
        <div class="timeline-card">
          <div class="timeline-meta">
            <span>{{ exp.start_date|date:"Y" }}{% if exp.end_date %} - {{ exp.end_date|date:"Y" }}{% else %} - اکنون{% endif %}</span>
            <span class="tag">{{ exp.organization }}</span>
          </div>
          <h3>{{ exp.role }}</h3>
          <p>{{ exp.description }}</p>
        </div>
      </div>
      {% empty %}
      <p>به‌زودی جدول زمانی تکمیل می‌شود.</p>
      {% endfor %}
    </div>
    <div class="skills-panel" data-animate="rise">
      <h3>مهارت‌های شاخص</h3>
      <div class="skill-badges">
        {% for skill in skills %}
        <div class="skill" style="--accent: {{ skill.accent_color }};">
          <span class="level">{{ skill.level }}%</span>
          <strong>{{ skill.name }}</strong>
          <small>{{ skill.get_category_display }}</small>
        </div>
        {% empty %}
        <p>مهارتی ثبت نشده است.</p>
        {% endfor %}
      </div>
      <div class="recognitions">
        <h4>دستاوردها</h4>
        {% for rec in recognitions %}
        <div class="badge" style="--accent: {{ rec.badge_color }};">
          <strong>{{ rec.title }}</strong>
          <span>{{ rec.issuer }} · {{ rec.year }}</span>
        </div>
        {% empty %}
        <p>دستاوردی ثبت نشده است.</p>
        {% endfor %}
      </div>
    </div>
  </div>
</section>

<section id="courses" class="courses-section">
  <div class="section-heading">
    <p class="eyebrow">دوره‌ها</p>
    <h2>آموزش‌های پروژه‌محور با امکان دانلود جزوه و ویدیو</h2>
    <a href="{% url 'courses:list' %}">مشاهده همه دوره‌ها →</a>
  </div>
  <div class="cards-grid">
    {% for course in featured_courses %}
    <article class="course-card" style="--accent: {{ course.accent_color }};" data-animate="tilt">
      <div class="course-card__head">
        <span class="chip">{{ course.get_level_display }}</span>
        <span class="chip ghost">{{ course.duration }}</span>
      </div>
      <h3>{{ course.title }}</h3>
      <p>{{ course.summary }}</p>
      <ul class="course-meta">
        <li>جزوه و فایل‌های PDF/Word</li>
        <li>ویدیوهای ضبط شده</li>
        <li>پشتیبانی و انجمن خصوصی</li>
      </ul>
      <div class="course-card__foot">
        {% if course.price %}
        <strong>{{ course.price|floatformat:0 }} تومان</strong>
        {% else %}
        <strong>رایگان</strong>
        {% endif %}
        <a href="{{ course.get_absolute_url }}">جزئیات</a>
      </div>
    </article>
    {% empty %}
    <p>دوره‌ای در دسترس نیست.</p>
    {% endfor %}
  </div>
</section>

<section id="blog" class="blog-section">
  <div class="section-heading">
    <p class="eyebrow">بلاگ</p>
    <h2>نوشته‌ها درباره هوش مصنوعی، مهندسی نرم‌افزار و دانشگاه</h2>
    <a href="{% url 'blog:list' %}">آرشیو کامل بلاگ →</a>
  </div>
  <div class="blog-grid">
    {% for post in featured_posts %}
    <article class="blog-card" data-animate="rise">
      <div class="blog-card__meta">
        <span>{{ post.category.title }}</span>
        <span>{{ post.published_at|date:"d F Y" }}</span>
      </div>
      <h3>{{ post.title }}</h3>
      <p>{{ post.summary }}</p>
      <div class="tag-row">
        {% for tag in post.tag_list %}
        <span>#{{ tag }}</span>
        {% endfor %}
      </div>
      <a href="{{ post.get_absolute_url }}">مطالعه مقاله</a>
    </article>
    {% empty %}
    <p>هنوز پستی منتشر نشده است.</p>
    {% endfor %}
  </div>
</section>

<section id="contact" class="contact-section">
  <div class="contact-card" data-animate="fade">
    <p class="eyebrow">ارتباط</p>
    <h2>بیایید برای یک پروژه الهام‌بخش صحبت کنیم.</h2>
    <ul class="contact-list">
      <li>ایمیل: <a href="mailto:{{ contact_info.email }}">{{ contact_info.email }}</a></li>
      <li>موبایل: <a href="tel:{{ contact_info.phone }}">{{ contact_info.phone }}</a></li>
      <li>مکان: {{ contact_info.location }}</li>
    </ul>
    <div class="socials">
      {% if contact_info.github %}
      <a href="{{ contact_info.github }}" target="_blank" rel="noopener noreferrer" class="yellow-glow">GitHub</a>
      {% endif %}
      <a href="mailto:{{ contact_info.email }}">ایمیل</a>
      <a href="tel:{{ contact_info.phone }}">تماس</a>
    </div>
  </div>
  <div class="contact-form" data-animate="rise">
    <form method="post" action="{% url 'core:contact' %}">
      {% csrf_token %}
      <div class="form-grid">
        {{ contact_form.name }}
        {{ contact_form.email }}
        {{ contact_form.topic }}
        {{ contact_form.message }}
      </div>
      <button type="submit" class="btn cta full">ارسال پیام</button>
    </form>
  </div>
</section>
{% endblock %}

