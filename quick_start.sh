#!/bin/bash
# ุงุณฺฉุฑูพุช ุฑุงูโุงูุฏุงุฒ ุณุฑุน ูพุฑูฺู

echo "๐ ุฑุงูโุงูุฏุงุฒ ูุจโุณุงุช ุงุญุณุงู ูฺฉ..."
echo ""

# ุจุฑุฑุณ ูุฌูุฏ ูุญุท ูุฌุงุฒ
if [ ! -d ".venv" ]; then
    echo "๐ฆ ุงุฌุงุฏ ูุญุท ูุฌุงุฒ..."
    python3 -m venv .venv
fi

# ูุนุงูโุณุงุฒ ูุญุท ูุฌุงุฒ
echo "๐ ูุนุงูโุณุงุฒ ูุญุท ูุฌุงุฒ..."
source .venv/bin/activate

# ูุตุจ ูุงุจุณุชฺฏโูุง
echo "๐ฅ ูุตุจ ูุงุจุณุชฺฏโูุง..."
pip install -r requirements.txt

# ุงุฌุฑุง ูุงฺฏุฑุดูโูุง
echo "๐๏ธ  ุงุฌุฑุง ูุงฺฏุฑุดูโูุง ุฏุชุงุจุณ..."
python manage.py migrate

# ุจุฑุฑุณ ูุฌูุฏ superuser
echo "๐ค ุจุฑุฑุณ ุงฺฉุงูุช ุงุฏูู..."
python show_admin_info.py

echo ""
echo "โ ุฑุงูโุงูุฏุงุฒ ฺฉุงูู ุดุฏ!"
echo ""
echo "๐ ุจุฑุง ุงุฌุงุฏ ุง ุชุบุฑ ุฑูุฒ ุงุฏูู:"
echo "   python manage.py changepassword admin"
echo ""
echo "๐ ุจุฑุง ุงุฌุฑุง ุณุฑูุฑ:"
echo "   python manage.py runserver"
echo ""
echo "๐ ุจุฑุง ูุฑูุฏ ุจู ูพูู ูุฏุฑุช:"
echo "   http://127.0.0.1:8000/admin/"
echo ""

